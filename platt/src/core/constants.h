/*
 * This file is part of the PLATT reference implementation
 * Author (2018-2020) Marc René Schädler (marc.rene.schaedler@uni-oldenburg.de)
 */

#ifndef __CONSTANTS_H__
#define __CONSTANTS_H__

#define SAMPLERATE 48000 // samplerate in Hz
#define NUMFILTERS 78 // about 2 filters per ERB
#define GTLEVELS 131 // gain table levels
#define GTMIN 0 // minimum level in gain table
#define ORDER 4 // order gammatone filters
#define TICKSAMPLES 48 // ~approx 1ms
#define TICKSIZE 52 // TICKSAMPLES+ORDER
#define MAXHOLDTICKS 15 // TICKSAMPLES ~ approx 15ms
#define MAXDECAY 0.2 // dB/TICKSAMPLES ~ 1dB/ms
#define LOG2DB 8.6858896380650350 // 20/log(10)
#define NUMLAYERS 6 // number of layers
#define COMPRESSIONMARGIN 0.5 // dB
#define MAXPARTIALGAIN 20 // dB
#define GAINCORRECTION -9.5602 // gain correction in dB

// Hanning window coefficients  
const float hanning4[7] = { 0.146446609406726, 0.500000000000000, 0.853553390593274, 1.000000000000000, 0.853553390593274, 0.500000000000000, 0.146446609406726 };
const float hanning8[15] = { 0.038060233744357, 0.146446609406726, 0.308658283817455, 0.500000000000000, 0.691341716182545, 0.853553390593274, 0.961939766255643, 1.000000000000000, 0.961939766255643, 0.853553390593274, 0.691341716182545, 0.500000000000000, 0.308658283817455, 0.146446609406726, 0.038060233744357 };
const float hanning16[31] = { 0.009607359798385, 0.038060233744357, 0.084265193848727, 0.146446609406726, 0.222214883490199, 0.308658283817455, 0.402454838991936, 0.500000000000000, 0.597545161008064, 0.691341716182545, 0.777785116509801, 0.853553390593274, 0.915734806151273, 0.961939766255643, 0.990392640201615, 1.000000000000000, 0.990392640201615, 0.961939766255643, 0.915734806151273, 0.853553390593274, 0.777785116509801, 0.691341716182545, 0.597545161008064, 0.500000000000000, 0.402454838991936, 0.308658283817455, 0.222214883490199, 0.146446609406726, 0.084265193848727, 0.038060233744357, 0.009607359798385 };
const float hanning32[63] = { 0.002407636663902, 0.009607359798385, 0.021529832133896, 0.038060233744357, 0.059039367825822, 0.084265193848727, 0.113494773318632, 0.146446609406726, 0.182803357918177, 0.222214883490199, 0.264301631587001, 0.308658283817455, 0.354857661372769, 0.402454838991936, 0.450991429835220, 0.500000000000000, 0.549008570164780, 0.597545161008064, 0.645142338627231, 0.691341716182545, 0.735698368412999, 0.777785116509801, 0.817196642081823, 0.853553390593274, 0.886505226681368, 0.915734806151273, 0.940960632174177, 0.961939766255643, 0.978470167866104, 0.990392640201615, 0.997592363336098, 1.000000000000000, 0.997592363336098, 0.990392640201615, 0.978470167866105, 0.961939766255643, 0.940960632174177, 0.915734806151273, 0.886505226681369, 0.853553390593274, 0.817196642081823, 0.777785116509801, 0.735698368412999, 0.691341716182545, 0.645142338627231, 0.597545161008064, 0.549008570164780, 0.500000000000000, 0.450991429835220, 0.402454838991936, 0.354857661372769, 0.308658283817455, 0.264301631587001, 0.222214883490199, 0.182803357918177, 0.146446609406726, 0.113494773318632, 0.084265193848727, 0.059039367825823, 0.038060233744357, 0.021529832133896, 0.009607359798385, 0.002407636663902 };

const float propagate_hanning4[7] = { 0.853553390593274, 0.500000000000000, 0.146446609406726, 0.000000000000000, 0.146446609406726, 0.500000000000000, 0.853553390593274 };
const float propagate_hanning6[11] = { 0.933012701892219, 0.750000000000000, 0.500000000000000, 0.250000000000000, 0.066987298107781, 0.000000000000000, 0.066987298107781, 0.250000000000000, 0.500000000000000, 0.750000000000000, 0.933012701892219 };
const float propagate_hanning12[23] = { 0.982962913144534, 0.933012701892219, 0.853553390593274, 0.750000000000000, 0.629409522551260, 0.500000000000000, 0.370590477448740, 0.250000000000000, 0.146446609406726, 0.066987298107781, 0.017037086855466, 0.000000000000000, 0.017037086855466, 0.066987298107781, 0.146446609406726, 0.250000000000000, 0.370590477448740, 0.500000000000000, 0.629409522551260, 0.750000000000000, 0.853553390593274, 0.933012701892219, 0.982962913144534 };

#endif
